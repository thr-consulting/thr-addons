<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"inputs_Scriptel_Scriptel.js.html":{"id":"inputs_Scriptel_Scriptel.js.html","title":"Source: inputs/Scriptel/Scriptel.js","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: inputs/Scriptel/Scriptel.js /* globals WebSocket: true */ import React, {Component} from 'react'; import debug from 'debug'; import remove from 'lodash/remove'; import {ScriptelContext} from './ScriptelContext'; const d = debug('thx:Scriptel'); // type Props = { // omniscript?: string, // imageType?: string, // scale?: number, // crop?: boolean, // penStyle?: string, // children: any, // }; /** * Manages a connection to the Scriptel Omniscript server. */ export default class extends Component { constructor(props) { super(props); this._renderers = []; this.contextValue = { addOnRender: renderer =&gt; { d('Adding renderer'); this._renderers.push(renderer); }, removeOnRender: renderer =&gt; { d('Removing renderer'); remove(this._renderers, v =&gt; v === renderer); }, render: msg =&gt; { this._renderers.forEach(v =&gt; v(msg)); }, }; } componentDidMount() { const {omniscript} = this.props; this._socket = new WebSocket(omniscript || 'ws://localhost:8080'); this._socket.onopen = () =&gt; { d('Socket open'); }; this._socket.onclose = () =&gt; { d('Socket closed'); }; this._socket.onmessage = ev =&gt; { const msg = JSON.parse(ev.data); switch (msg._class) { // eslint-disable-line no-underscore-dangle case 'ConnectionOpen': this.serverConnected({msg, socket: this._socket}); break; case 'DeviceOpenResponse': this.deviceConnected({msg, socket: this._socket}); break; case 'RenderedImage': this.contextValue.render(msg); break; case 'ScriptelException': d(`Scriptel Exception Error: ${msg.message}`); break; default: // d(`Unhandled msg: ${msg._class}`); // d(msg); break; } // Other events: // RenderSettingsUpdateResponse // PenDown, PenUp, PenMove // ButtonDown, ButtonPress, // ConnectionDeviceMembershipChange, DeviceCloseResponse }; } componentWillUnmount() { this._socket.close(); this._renderers = []; } /** * Called when connected to the server. * @param msg * @param socket */ serverConnected({msg, socket}) { d('Server connected'); if (msg.serverInfo.devices.length &gt; 0) { // Grab the first available device const device = msg.serverInfo.devices[0]; socket.send(JSON.stringify({ _class: 'DeviceOpenRequest', uuid: device.uuid, })); } } /** * Called when connected to the device. * @param socket */ deviceConnected({socket}) { d('Device connected'); const {imageType, scale, crop, penStyle} = this.props; socket.send(JSON.stringify({ _class: 'RenderSettingsUpdateRequest', renderSettings: { _class: 'RenderSettings', type: imageType || 'image/svg+xml', // image/png, image/svg+xml scale: scale || 1, crop: crop || false, penStyle: penStyle ? { renderFunction: penStyle, } : { renderFunction: 'PlainPenStyle', // PlainPenStyle, ChiselPenStyle, InkwellPenStyle }, }, })); } render() { return ( &lt;ScriptelContext.Provider value={this.contextValue}&gt; {this.props.children} &lt;/ScriptelContext.Provider&gt; ); } } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"date_DatePicker.LocalDate_DatePicker.LocalDate.tsx.html":{"id":"date_DatePicker.LocalDate_DatePicker.LocalDate.tsx.html","title":"Source: date/DatePicker.LocalDate/DatePicker.LocalDate.tsx","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: date/DatePicker.LocalDate/DatePicker.LocalDate.tsx import React, {Component} from 'react'; import debug from 'debug'; import DatePicker from 'react-datepicker'; import {LocalDate} from 'js-joda'; import isNumber from 'lodash/isNumber'; import {transformLocalDateToDate, transformDateToLocalDate} from '@thx/date'; import MaskedDateInput from './MaskedDateInput'; const d = debug('thx.controls.DatePicker.LocalDate'); interface Props { value?: LocalDate | number, onChange?: (LocalDate) =&gt; void, onChangeRaw?: () =&gt; void, } /** * Let's you pick a LocalDate. No time parts are recorded. * @class * @property {LocalDate|number} value * @property onChange */ export default class DatePickerLocalDate extends Component&lt;Props&gt; { handleChange = (dateValue?: Date) =&gt; { d(dateValue, transformDateToLocalDate(dateValue)); if (this.props.onChange) this.props.onChange(transformDateToLocalDate(dateValue)); }; render() { const { value, onChange, action, actionPosition, as, disabled, error, fluid, focus, icon, iconPosition, inverted, label, labelPosition, loading, size, transparent, ...rest } = this.props; const newProps = {...rest}; // Accept value prop if (!value) { newProps.selected = null; } else if (isNumber(value)) { newProps.selected = transformLocalDateToDate(LocalDate.ofEpochDay(value as number)); } else if (value instanceof LocalDate) { newProps.selected = transformLocalDateToDate(value); } else { throw new Error('Value must be null, epoch integer or a LocalDate'); } d('datepicker selected will be: ', newProps.selected); if (onChange) newProps.onChange = this.handleChange; const inputProps = { action, actionPosition, as, disabled, error, fluid, focus, icon, iconPosition, inverted, label, labelPosition, loading, size, transparent, }; return ( &lt;DatePicker {...newProps} customInput={&lt;MaskedDateInput {...inputProps}/&gt;} /&gt; ); } } /* &lt;MaskedInput {...inputProps} mask={{mask: '99/99/9999'}} onChange={a =&gt; { d('Custom input:', a); }} /&gt; */ × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"inputs_MaskedInput_MaskedInput.js.html":{"id":"inputs_MaskedInput_MaskedInput.js.html","title":"Source: inputs/MaskedInput/MaskedInput.js","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: inputs/MaskedInput/MaskedInput.js import React, {Component} from 'react'; import {Input} from 'semantic-ui-react'; import isFunction from 'lodash/isFunction'; import 'inputmask/dist/inputmask/inputmask.numeric.extensions'; import Inputmask from 'inputmask'; /** * See source code for detailed prop types or {@link https://github.com/RobinHerbots/jquery.inputmask|here} for more info. * @typedef {Object} inputmaskPropTypes */ // type Props = { // value?: string, // onChange?: (data: string) =&gt; {}, // onBlur?: () =&gt; {}, // mask?: { // placeholder?: string, // optionalmarker?: { // start: string, // end: string, // }, // quantifiermarker?: { // start: string, // end: string, // }, // groupmarker?: { // start: string, // end: string, // }, // alternatormarker?: string, // escapeChar?: string, // mask: string, // repeat?: number, // greedy?: boolean, // autoUnmask?: boolean, // removeMaskOnSubmit?: boolean, // clearMaskOnLostFocus?: boolean, // insertMode?: boolean, // clearIncomplete?: boolean, // alias?: string, // onKeyDown?: (event: any, buffer: any, caretPos: number, opts?: Object) =&gt; {}, // onBeforeMask?: (initialValue: string, opts?: Object) =&gt; string, // onBeforePaste?: (pastedValue: string, opts?: Object) =&gt; string, // onBeforeWrite?: (event: any, buffer: any, caretPos: number, opts?: Object) =&gt; Object, // onUnMask?: (maskedValue: string, unmaskedValue: string) =&gt; string, // showMaskOnFocus?: boolean, // showMaskOnHover?: boolean, // onKeyValidation?: (key: any, result: any) =&gt; {}, // numericInput?: boolean, // rightAlign?: boolean, // undoOnEscape?: boolean, // radixPoint?: string, // groupSeparator?: string, // keepStatic?: boolean, // positionCaretOnTab?: boolean, // tabThrough?: boolean, // isComplete?: (buffer: any, opts?: Object) =&gt; boolean, // canClearPosition?: (maskset: any, position: number, lastValidPosition: number, opts?: Object) =&gt; boolean, // postValidation?: (buffer: any, currentResult: any, opts?: any) =&gt; boolean | Object, // preValidation?: (buffer: any, pos: number, char: any, isSelection: boolean, opts?: Object) =&gt; boolean | Object, // staticDefinitionSymbol?: string, // nullable?: boolean, // positionCaretOnClick?: string, // casing?: string, // inputmode?: string, // colorMask?: string, // } // }; function getConvertFunction(type) { if (isFunction(type)) return type; switch (type) { case 'number': return str =&gt; { if (!str || str === '') return 0; return parseInt(str, 10); }; case 'string': default: return str =&gt; str; } } /** * Displays a masked input form. Warning: this component uses jquery for masking so it renders quite slow. Do not use * hundreds of these on one screen at the same time. * @class * @property {string|number} [value=null] - The value to display * @property {onChange} [onChange=null] - Called when the value changes. * @property {inputmaskPropTypes} [mask=null] - The mask object specified at {@link https://github.com/RobinHerbots/jquery.inputmask|here}. * @property {type} - The type of the value that will be returned. */ export default class MaskedInput extends Component { static displayName = 'MaskedInput'; static defaultProps = { value: null, onChange: null, mask: null, }; componentDidMount() { if (this.props.value &amp;&amp; this._input) this._input.value = this.props.value; const im = new Inputmask({ ...this.props.mask, oncomplete: this.handleComplete, oncleared: this.handleCleared, onincomplete: this.handleIncomplete, }); im.mask(this._input); } componentDidUpdate(prevProps) { if (prevProps.value !== this.props.value &amp;&amp; this._input) { this._input.value = this.props.value || ''; } if (prevProps.mask !== this.props.mask) { const im = new Inputmask({ ...this.props.mask, oncomplete: this.handleComplete, oncleared: this.handleCleared, onincomplete: this.handleIncomplete, }); im.mask(this._input); } } handleComplete = ev =&gt; { if (this.props.onChange) { this.props.onChange(getConvertFunction(this.props.type)(ev.target.value)); } }; handleCleared = () =&gt; { if (this.props.onChange) { this.props.onChange(getConvertFunction(this.props.type)('')); } }; handleIncomplete = ev =&gt; { if (this.props.onChange) { this.props.onChange(getConvertFunction(this.props.type)(ev.target.value)); } }; render() { const {value, onChange, onBlur, mask, type, ...rest} = this.props; return ( &lt;Input {...rest} &gt; &lt;input ref={r =&gt; (this._input = r)} onBlur={onBlur}/&gt; &lt;/Input&gt; ); } } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"date_LocalMonthSelect_LocalMonthSelect.tsx.html":{"id":"date_LocalMonthSelect_LocalMonthSelect.tsx.html","title":"Source: date/LocalMonthSelect/LocalMonthSelect.tsx","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: date/LocalMonthSelect/LocalMonthSelect.tsx import React, {Component} from 'react'; import {Select} from 'semantic-ui-react'; import {LocalDate} from 'js-joda'; import debug from 'debug'; const d = debug('thx:controls:date:LocalMonthSelect'); const monthOptions = [ {text: 'January', value: 1}, {text: 'February', value: 2}, {text: 'March', value: 3}, {text: 'April', value: 4}, {text: 'May', value: 5}, {text: 'June', value: 6}, {text: 'July', value: 7}, {text: 'August', value: 8}, {text: 'September', value: 9}, {text: 'October', value: 10}, {text: 'November', value: 11}, {text: 'December', value: 12}, ]; interface Props { onChange?: Function, value?: LocalDate, year?: number, } interface ValueOption { text: string, value: number, } /** * Month select dropdown * @class * @property {onChange} onChange - Called when the value changes. * @property {Date} value - The value in date form. Day is ignored. * @property {number} [year=Current Year] - The year to use when selecting a date. */ export default class LocalMonthSelect extends Component&lt;Props&gt; { static defaultProps = { year: LocalDate.now().year(), }; handleChange = (e, value: ValueOption) =&gt; { d('Month changed to:', value.value, e); if (this.props.onChange) { if (value !== '') { this.props.onChange(LocalDate.of(this.props.year, parseInt(value.value, 10), 1)); } else { this.props.onChange(null); } } }; render() { const {value} = this.props; return ( &lt;Select placeholder=\"Select Month\" options={monthOptions} value={value ? value.monthValue() : ''} onChange={this.handleChange}/&gt; ); } } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"money_MoneyInput_MoneyInput.js.html":{"id":"money_MoneyInput_MoneyInput.js.html","title":"Source: money/MoneyInput/MoneyInput.js","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: money/MoneyInput/MoneyInput.js /* eslint-disable jsx-a11y/no-static-element-interactions */ import debug from 'debug'; import React, {Component} from 'react'; import {Input, Icon} from 'semantic-ui-react'; import {makeMoney, roundTo} from '@thx/money'; import moneyInputMask from './moneyInputMask'; const d = debug('money:MoneyInput'); // type Props = { // value?: Money, // onChange?: Money =&gt; void, // currency?: string, // onBlur?: () =&gt; void, // onDetailsClick?: () =&gt; void, // detailsIcon?: string, // locked?: boolean, // wholenumber?: boolean, // }; /** * A masked money input. Defaults to CAD funds. * @class * @property {Money} value - The money value. * @property {string} [currency=CAD] - The currency if the value is set to null. * @property {onChange} onChange - Called when the value changes. * @property {function} onDetailsClick - Called when the details button is clicked. * @property {string} [detailsIcon=server] - The Semantic UI icon to display on the details button. * @property {bool} [locked=false] - If true, cannot edit the amount. * @property {function} onBlur - Called when the focus is lost. * @property {bool} [wholenumber=false] - If true, Then decimals will be zero. * */ export default class MoneyInput extends Component { static defaultProps = { detailsIcon: 'server', locked: false, }; constructor(props) { super(props); if (props.value &amp;&amp; props.currency &amp;&amp; props.value.currency !== props.currency) { throw new Error(`Currency does not match ${props.value.currency} !== ${props.currency}`); } } componentDidMount() { d(`componentDidMount: ${this.props.value}`); if (this._input) { const {value, currency} = this.props; // Determine the currency let maskCurrency; if (currency) { maskCurrency = currency; } else if (value) { maskCurrency = value.currency; } else { maskCurrency = 'CAD'; } // Set the input text to be the initial value prop this._input.value = this.props.wholenumber ? roundTo(makeMoney(value).toDecimal(), 0) : makeMoney(value).toDecimal(); moneyInputMask({ element: this._input, onChange: this.handleChange, currency: maskCurrency, }); } } componentDidUpdate(prevProps) { const money = makeMoney(this.props.value); const iv = makeMoney(this._input.value); if (!money.equals(iv)) { const prevMoney = prevProps.value; d(`componentDidUpdate: ${prevMoney} &gt; ${money} | ${iv}`); this._input.value = this.props.wholenumber ? roundTo(money.toDecimal(), 0) : money.toDecimal(); } } componentWillUnmount() { delete this._input; } handleChange = value =&gt; { d(`handleChange: ${value}`); if (this.props.onChange) { const {currency, wholenumber} = this.props; const money = makeMoney(wholenumber ? roundTo(value, 0) : value, currency || 'CAD'); this.props.onChange(money); } }; renderDetailsButton = () =&gt; { const {detailsIcon, locked, onDetailsClick} = this.props; d(detailsIcon); return ( &lt;Icon name={detailsIcon} color={locked ? 'blue' : null} title=\"Details\" onClick={onDetailsClick} style={{cursor: 'pointer', pointerEvents: 'inherit'}} /&gt; ); }; render() { const {value, onChange, onBlur, onDetailsClick, detailsIcon, locked, ...rest} = this.props; d(`render: ${value}`); return ( &lt;Input icon={!!onDetailsClick} {...rest}&gt; &lt;input type=\"text\" ref={r =&gt; (this._input = r)} onBlur={onBlur} readOnly={locked ? 'readonly' : null}/&gt; {onDetailsClick ? this.renderDetailsButton() : null} &lt;/Input&gt; ); } } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"money_MoneyInputMask_index.js.html":{"id":"money_MoneyInputMask_index.js.html","title":"Source: money/MoneyInputMask/index.js","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: money/MoneyInputMask/index.js /* eslint-disable jsx-a11y/no-static-element-interactions, react/no-unused-prop-types */ import React, {Component} from 'react'; import PropTypes from 'prop-types'; import {Input, Icon} from 'semantic-ui-react'; import Money from 'js-money'; import TextMask from 'react-text-mask'; import {createNumberMask} from 'text-mask-addons'; import isNaN from 'lodash/isNaN'; import debug from 'debug'; const d = debug('money:MoneyInputMask'); /** * A masked money input. Defaults to CAD funds. * @class * @property {Money} value - The money value. * @property {onChange} onChange - Called when the value changes. * @property {function} onDetailsClick - Called when the details button is clicked. * @property {string} [detailsIcon=server] - The Semantic UI icon to display on the details button. * @property {string} placeholder - The placeholder text to display. * @property {bool} [locked=false] - If true, cannot edit the amount. */ export default class MoneyInputMask extends Component { static propTypes = { value: PropTypes.instanceOf(Money), onChange: PropTypes.func, onBlur: PropTypes.func, onDetailsClick: PropTypes.func, detailsIcon: PropTypes.string, placeholder: PropTypes.string, locked: PropTypes.bool, }; handleChange = value =&gt; { const {value: moneyString} = value.target; const flot = parseFloat(moneyString.replace(/,/g, '')); try { const money = Money.fromDecimal(isNaN(flot) ? 0 : flot, 'CAD'); if (this.props.onChange) this.props.onChange(money); } catch (e) { d(e); } }; renderDetailsButton = () =&gt; { const {detailsIcon, onDetailsClick, locked} = this.props; return ( &lt;Icon name={detailsIcon} color={locked ? 'blue' : null} link data-title=\"Details\" data-content=\"Click for more details\" onClick={onDetailsClick} /&gt; ); }; render() { const {value} = this.props; const money = value ? value.toDecimal() : ''; return ( &lt;TextMask mask={createNumberMask({ allowDecimal: true, allowNegative: true, prefix: '', })} guide={false} onChange={this.handleChange} onBlur={this.props.onBlur} value={money} render={(ref, props) =&gt; { d(props); return ( &lt;Input onChange={props.onChange} onBlur={props.onBlur} placeholder={props.placeholder} icon={!!props.onDetailsClick}&gt; &lt;input type=\"text\" ref={ref} style={{textAlign: 'right'}} readOnly={props.locked ? 'readonly' : null}/&gt; {props.onDetailsClick ? this.renderDetailsButton() : null} &lt;/Input&gt; ); }} /&gt; ); } } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"inputs_RadioGroup_RadioGroup.js.html":{"id":"inputs_RadioGroup_RadioGroup.js.html","title":"Source: inputs/RadioGroup/RadioGroup.js","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: inputs/RadioGroup/RadioGroup.js import React, {Component, Children} from 'react'; import {Form} from 'semantic-ui-react'; // type Props = { // /** Any components but handles Radio components specially. */ // children?: ChildrenArray&lt;*&gt;, // /** Called when one of the Radio boxes is selected. */ // onChange?: (value: boolean | number | string | Object) =&gt; void, // onBlur?: () =&gt; void, // /** This value will select the correct Radio component with the matching value */ // value?: | boolean | number | string | Object, // }; /** * Groups React Semantic UI Radio elements into a single group * @class * @property {Component[]} children - Radio or Form.Radio components * @property {onChange} onChange - Standard onChange handler * @property {bool|number|string|Object} value - The currently selected radio item */ export default class RadioGroup extends Component { static displayName = 'RadioGroup'; static defaultProps = { children: null, onChange: null, onBlur: null, value: null, }; handleChange = (e, {value}) =&gt; { if (this.props.onChange) this.props.onChange(value); }; render() { const {children, value, onChange, onBlur, ...rest} = this.props; return ( &lt;Form.Group {...rest} onBlur={onBlur}&gt; {Children.map(children, child =&gt; { if (child.type.name === 'FormRadio' || child.type.name === 'Radio') { return React.cloneElement(child, { onChange: this.handleChange, checked: value === child.props.value, }); } return child; })} &lt;/Form.Group&gt; ); } } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"menu_ResponsiveMenu_ResponsiveMenu.js.html":{"id":"menu_ResponsiveMenu_ResponsiveMenu.js.html","title":"Source: menu/ResponsiveMenu/ResponsiveMenu.js","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: menu/ResponsiveMenu/ResponsiveMenu.js import React from 'react'; import MediaQuery from 'react-responsive'; import {Menu} from 'semantic-ui-react'; import ResponsiveMenuItem from '../ResponsiveMenuItem'; import ResponsiveMenuDropdown from '../ResponsiveMenuDropdown'; import {ResponsiveMenuContext} from '../ResponsiveMenuContext'; // type Props = { // children: ChildrenArray&lt;*&gt;, // /** The number of pixels wide the mobile screen should be. */ // mobileWidth?: number, // }; /** * Displays a mobile responsive menu * @class * @property {number} mobileWidth - The number of pixels defining mobile cutoff * @property {Component[]} children - ResponsiveMenu.Item or ResponsiveMenu.Dropdown */ export default function ResponsiveMenu({mobileWidth, children, ...rest}) { const minQuery = `(min-width: ${mobileWidth + 1}px)`; const maxQuery = `(max-width: ${mobileWidth}px)`; return ( &lt;div&gt; &lt;MediaQuery query={minQuery}&gt; &lt;ResponsiveMenuContext.Provider value={{isMobile: false}}&gt; &lt;Menu {...rest}&gt; {children} &lt;/Menu&gt; &lt;/ResponsiveMenuContext.Provider&gt; &lt;/MediaQuery&gt; &lt;MediaQuery query={maxQuery}&gt; &lt;ResponsiveMenuContext.Provider value={{isMobile: true}}&gt; &lt;Menu icon {...rest}&gt; {children} &lt;/Menu&gt; &lt;/ResponsiveMenuContext.Provider&gt; &lt;/MediaQuery&gt; &lt;/div&gt; ); } ResponsiveMenu.defaultProps = { mobileWidth: 768, }; ResponsiveMenu.Item = ResponsiveMenuItem; ResponsiveMenu.Dropdown = ResponsiveMenuDropdown; × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"inputs_ScriptelInput_ScriptelInput.js.html":{"id":"inputs_ScriptelInput_ScriptelInput.js.html","title":"Source: inputs/ScriptelInput/ScriptelInput.js","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: inputs/ScriptelInput/ScriptelInput.js import React, {Component} from 'react'; import {Button, Image} from 'semantic-ui-react'; import debug from 'debug'; import {ScriptelContext} from '../Scriptel/ScriptelContext'; const d = debug('thx:ScriptelInput'); // type Props = { // value?: Object, // onChange?: () =&gt; {}, // }; // // type State = { // entering: boolean, // }; /** * A signature enter and display control. */ export default class ScriptelInput extends Component { static contextType = ScriptelContext; static defaultProps = { value: { width: 0, height: 0, data: null, }, }; state = { entering: false, }; componentDidMount() { this.context.addOnRender(this.onRender); } componentWillUnmount() { this.context.removeOnRender(this.onRender); } /** * Called everytime the signature pad sends a new signature. * We only record it if we are in the entering state. * @param msg */ onRender = msg =&gt; { if (this.state.entering) { d('Image rendered'); this.setState({ entering: false, }); if (this.props.onChange) { this.props.onChange({ data: msg.data, type: msg.type, }); } } }; /** * Called when the enter button is clicked. */ onEnterClick = () =&gt; { this.setState({entering: true}); }; /** * Called when the cancel button is clicked. */ onCancelClick = () =&gt; { this.setState({entering: false}); }; /** * Called when the clear button is clicked. */ onClearClick = () =&gt; { this.setState({ entering: false, }); if (this.props.onChange) this.props.onChange(null); }; /** * Renders the signature image and a clear button. * @return {*} */ renderSignature() { const {data} = this.props.value; return ( &lt;div&gt; &lt;Image size=\"medium\" src={data} bordered /&gt; &lt;Button size=\"mini\" compact onClick={this.onClearClick}&gt;Reset&lt;/Button&gt; &lt;/div&gt; ); } /** * Renders a cancel button. * @return {*} */ renderEntering() { return ( &lt;div&gt; &lt;div&gt;Enter a signature and click OK.&lt;/div&gt; &lt;Button onClick={this.onCancelClick} color=\"black\"&gt;Cancel&lt;/Button&gt; &lt;/div&gt; ); } /** * Renders an enter button. * @return {*} */ renderBlank() { return ( &lt;Button onClick={this.onEnterClick}&gt;Enter Signature&lt;/Button&gt; ); } render() { const {entering} = this.state; const {value} = this.props; if (entering) { return this.renderEntering(); } if (value) { return this.renderSignature(); } return this.renderBlank(); } } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"inputs_SinEntry_SinEntry.js.html":{"id":"inputs_SinEntry_SinEntry.js.html","title":"Source: inputs/SinEntry/SinEntry.js","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: inputs/SinEntry/SinEntry.js import React, {Component} from 'react'; import {Button, Icon, Input, Form} from 'semantic-ui-react'; import isEmpty from 'lodash/isEmpty'; import TSchemas from '@thx/tschemas'; import TForm from '../../form/TForm'; import MaskedInput from '../MaskedInput'; // type Props = { // /** Just the boolean value if a SIN exists or not */ // value?: boolean, // /** Only returns boolean if the SIN is entered properly or not */ // onChange?: (value: boolean) =&gt; void, // /** Called with the actual SIN text value */ // onSinChange?: (value: string) =&gt; void, // onBlur?: () =&gt; void, // }; // // type State = { // showEditor: boolean, // }; /** * A SIN entry control. The main value is a boolean to show whether the SIN has been entered or not. This way the actual information doesn't pass into the client. * The onSinChange() prop will be called with the actual SIN text which can be sent to the server separately. * @class * @property {boolean} value - Just the boolean value if a SIN exists or not * @property {function} onChange - Only returns boolean if the SIN is entered properly or not * @property {function} onSinChange * @property {function} onBlur */ export default class SinEntry extends Component { static displayName = 'SinEntry'; static defaultProps = { value: false, }; state = { showEditor: false, }; handleEdit = () =&gt; { this.setState({showEditor: true}); }; handleCancel = () =&gt; { this.setState({showEditor: false}); if (this.props.onBlur) this.props.onBlur(); }; handleSubmit = data =&gt; { if (this.props.onChange) this.props.onChange(!isEmpty(data.sin)); if (this.props.onSinChange) this.props.onSinChange(data.sin); this.setState({showEditor: false}); if (this.props.onBlur) this.props.onBlur(); }; handleClear = () =&gt; { if (this.props.onChange) this.props.onChange(false); if (this.props.onSinChange) this.props.onSinChange(null); this.setState({showEditor: false}); if (this.props.onBlur) this.props.onBlur(); }; renderForm = ({handleSubmit, handleBlur, values, hasWarnings, setFieldValue}) =&gt; ( &lt;Form.Field error={hasWarnings()}&gt; &lt;Input type=\"text\" action&gt; &lt;MaskedInput name=\"sin\" mask={{mask: '999-999-999'}} onChange={v =&gt; setFieldValue('sin', v)} value={values.sin} onBlur={handleBlur} autoFocus /&gt; &lt;Button color=\"green\" onClick={handleSubmit}&gt; &lt;Icon name=\"checkmark\"/&gt; Save &lt;/Button&gt; &lt;Button color=\"red\" onClick={this.handleCancel}&gt; Cancel &lt;/Button&gt; &lt;/Input&gt; &lt;/Form.Field&gt; ); render() { if (this.state.showEditor) { return ( &lt;TForm initialValues={{sin: ''}} render={this.renderForm} onSubmit={this.handleSubmit} validationSchema={TSchemas.sin()} numFields={1} /&gt; ); } if (this.props.value) { return ( &lt;Button.Group&gt; &lt;Button color=\"teal\" content=\"SIN Entered\" icon=\"checkmark\" /&gt; &lt;Button color=\"grey\" onClick={this.handleEdit}&gt;Re-enter SIN&lt;/Button&gt; &lt;Button.Or/&gt; &lt;Button onClick={this.handleClear}&gt;Clear SIN&lt;/Button&gt; &lt;/Button.Group&gt; ); } return (&lt;Button onClick={this.handleEdit}&gt;Enter SIN&lt;/Button&gt;); } } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"form_TForm_TForm.js.html":{"id":"form_TForm_TForm.js.html","title":"Source: form/TForm/TForm.js","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: form/TForm/TForm.js import React, {Component} from 'react'; import isEmpty from 'lodash/isEmpty'; import isString from 'lodash/isString'; import {Formik} from 'formik'; import {Message} from 'semantic-ui-react'; // type Props = { // /** Render prop just like Formik's with additional arguments passed */ // render: any, // /** The number of fields in the form. TForm can't automatically get this number. */ // numFields: number, // /** Used to pass in any GraphQL errors. */ // errors?: any, // /** Called when the form submits. */ // onSubmit: data =&gt; void, // /** Called when the TForm is mounted so you can get access to the submitForm function. */ // getSubmitFn: fn =&gt; void, // }; /** * Extends Formik to provide Semantic UI error and warning messages and field errors. * @class * @property {function} render - Render prop just like Formik's with additional arguments passed * @property {number} numFields - The number of fields in the form. TForm can't automatically get this number. * @property errors - Used to pass in any GraphQL errors. * @property {function} onSubmit - Called when the form submits. * @property {function} getSubmitFn - Called when the TForm is mounted so you can get access to the submitForm function. */ export default class TForm extends Component { static displayName = 'TForm'; componentDidMount() { if (this.props.getSubmitFn) this.props.getSubmitFn(this._submitForm); } renderForm = args =&gt; { const {errors: warnings, touched, handleChange, setFieldValue, submitForm, ...rest} = args; const {errors, numFields, render} = this.props; this._submitForm = submitForm; return render({ renderErrors() { if (!errors) return null; const {graphQLErrors} = errors; return ( &lt;Message error&gt; &lt;Message.Header&gt;Error&lt;/Message.Header&gt; {graphQLErrors.map(err =&gt; ( &lt;p key={err.message}&gt;{err.message}&lt;/p&gt; ))} &lt;/Message&gt; ); }, renderWarnings() { if (isEmpty(warnings)) return null; return ( &lt;Message warning&gt; &lt;Message.Header&gt;Some fields are not complete:&lt;/Message.Header&gt; &lt;ul&gt; {Object.keys(warnings).map(warning =&gt; ( &lt;li key={warning}&gt;{warnings[warning]}&lt;/li&gt; ))} &lt;/ul&gt; &lt;/Message&gt; ); }, hasErrors() { return !!errors; }, hasWarnings() { return Object.keys(touched).length === numFields &amp;&amp; !isEmpty(warnings); }, fieldError(fieldName) { return !!(touched[fieldName] &amp;&amp; warnings[fieldName]); }, handleChange(evOrName) { if (evOrName.nativeEvent) return handleChange(evOrName); if (isString(evOrName)) { return val =&gt; { setFieldValue(evOrName, val); }; } throw new Error('TForm expects handleChange to receive a SyntheticEvent or a string value of the field name'); }, errors: warnings, touched, setFieldValue, submitForm, ...rest, }); }; render() { const {render, numFields, ...rest} = this.props; return ( &lt;Formik render={this.renderForm} {...rest}/&gt; ); } } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"inputs_Scriptel_withScriptel.js.html":{"id":"inputs_Scriptel_withScriptel.js.html","title":"Source: inputs/Scriptel/withScriptel.js","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Source: inputs/Scriptel/withScriptel.js import React from 'react'; import Scriptel from './Scriptel'; /** * A HoC that provides a connection to a Scriptel Omniscript device. * You can only have a single connection open at a time. * @param WrappedComponent * @return {Object} */ export default function withScriptel(WrappedComponent, opts) { return props =&gt; ( &lt;Scriptel options={opts}&gt; &lt;WrappedComponent {...props}/&gt; &lt;/Scriptel&gt; ); } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"global.html":{"id":"global.html","title":"Global","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Global Methods withScriptel(WrappedComponent) A HoC that provides a connection to a Scriptel Omniscript device. You can only have a single connection open at a time. Parameters: Name Type Description WrappedComponent Source: inputs/Scriptel/withScriptel.js, line 4 Returns: Type Object Type Definitions inputmaskPropTypes See source code for detailed prop types or here for more info. Type: Object Source: inputs/MaskedInput/MaskedInput.js, line 7 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Classes Classes _default DatePickerLocalDate LocalMonthSelect MaskedInput MoneyInput MoneyInputMask RadioGroup ResponsiveMenu ScriptelInput SinEntry TForm × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel sidebar_label: Controls title: Controls A collection of form components designed with Semantic UI. They all adhere to the policy of having a value prop and an onChange() prop. Installyarn add @thx/controlsUsageimport {DatePicker} from '@thx/controls'; import '@thx/controls/lib/controls.css';StorybookYou can view these components in action in Storybook. × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"-_default.html":{"id":"-_default.html","title":"Class: _default","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: _default _default Manages a connection to the Scriptel Omniscript server. new _default() Source: inputs/Scriptel/Scriptel.js, line 19 Methods deviceConnected(socket) Called when connected to the device. Parameters: Name Type Description socket Source: inputs/Scriptel/Scriptel.js, line 139 serverConnected(msg, socket) Called when connected to the server. Parameters: Name Type Description msg socket Source: inputs/Scriptel/Scriptel.js, line 118 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"DatePickerLocalDate.html":{"id":"DatePickerLocalDate.html","title":"Class: DatePickerLocalDate","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: DatePickerLocalDate DatePickerLocalDate Let's you pick a LocalDate. No time parts are recorded. new DatePickerLocalDate() Properties: Name Type Description value LocalDate | number onChange Source: date/DatePicker.LocalDate/DatePicker.LocalDate.tsx, line 17 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"LocalMonthSelect.html":{"id":"LocalMonthSelect.html","title":"Class: LocalMonthSelect","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: LocalMonthSelect LocalMonthSelect Month select dropdown new LocalMonthSelect() Properties: Name Type Argument Default Description onChange onChange Called when the value changes. value Date The value in date form. Day is ignored. year number &lt;optional&gt; Current Year The year to use when selecting a date. Source: date/LocalMonthSelect/LocalMonthSelect.tsx, line 34 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"MaskedInput.html":{"id":"MaskedInput.html","title":"Class: MaskedInput","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: MaskedInput MaskedInput Displays a masked input form. Warning: this component uses jquery for masking so it renders quite slow. Do not use hundreds of these on one screen at the same time. new MaskedInput() Properties: Name Type Argument Default Description value string | number &lt;optional&gt; null The value to display onChange onChange &lt;optional&gt; null Called when the value changes. mask inputmaskPropTypes &lt;optional&gt; null The mask object specified at here. type The type of the value that will be returned. Source: inputs/MaskedInput/MaskedInput.js, line 84 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"MoneyInput.html":{"id":"MoneyInput.html","title":"Class: MoneyInput","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: MoneyInput MoneyInput A masked money input. Defaults to CAD funds. new MoneyInput() Properties: Name Type Argument Default Description value Money The money value. currency string &lt;optional&gt; CAD The currency if the value is set to null. onChange onChange Called when the value changes. onDetailsClick function Called when the details button is clicked. detailsIcon string &lt;optional&gt; server The Semantic UI icon to display on the details button. locked bool &lt;optional&gt; false If true, cannot edit the amount. onBlur function Called when the focus is lost. wholenumber bool &lt;optional&gt; false If true, Then decimals will be zero. Source: money/MoneyInput/MoneyInput.js, line 21 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"MoneyInputMask.html":{"id":"MoneyInputMask.html","title":"Class: MoneyInputMask","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: MoneyInputMask MoneyInputMask A masked money input. Defaults to CAD funds. new MoneyInputMask() Properties: Name Type Argument Default Description value Money The money value. onChange onChange Called when the value changes. onDetailsClick function Called when the details button is clicked. detailsIcon string &lt;optional&gt; server The Semantic UI icon to display on the details button. placeholder string The placeholder text to display. locked bool &lt;optional&gt; false If true, cannot edit the amount. Source: money/MoneyInputMask/index.js, line 13 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"RadioGroup.html":{"id":"RadioGroup.html","title":"Class: RadioGroup","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: RadioGroup RadioGroup Groups React Semantic UI Radio elements into a single group new RadioGroup() Properties: Name Type Description children Array.&lt;Component&gt; Radio or Form.Radio components onChange onChange Standard onChange handler value bool | number | string | Object The currently selected radio item Source: inputs/RadioGroup/RadioGroup.js, line 14 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"ResponsiveMenu.html":{"id":"ResponsiveMenu.html","title":"Class: ResponsiveMenu","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: ResponsiveMenu ResponsiveMenu new ResponsiveMenu() Displays a mobile responsive menu Properties: Name Type Description mobileWidth number The number of pixels defining mobile cutoff children Array.&lt;Component&gt; ResponsiveMenu.Item or ResponsiveMenu.Dropdown Source: menu/ResponsiveMenu/ResponsiveMenu.js, line 14 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"ScriptelInput.html":{"id":"ScriptelInput.html","title":"Class: ScriptelInput","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: ScriptelInput ScriptelInput A signature enter and display control. new ScriptelInput() Source: inputs/ScriptelInput/ScriptelInput.js, line 17 Methods renderBlank() Renders an enter button. Source: inputs/ScriptelInput/ScriptelInput.js, line 158 Returns: Type * renderEntering() Renders a cancel button. Source: inputs/ScriptelInput/ScriptelInput.js, line 129 Returns: Type * renderSignature() Renders the signature image and a clear button. Source: inputs/ScriptelInput/ScriptelInput.js, line 95 Returns: Type * × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"SinEntry.html":{"id":"SinEntry.html","title":"Class: SinEntry","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: SinEntry SinEntry A SIN entry control. The main value is a boolean to show whether the SIN has been entered or not. This way the actual information doesn't pass into the client. The onSinChange() prop will be called with the actual SIN text which can be sent to the server separately. new SinEntry() Properties: Name Type Description value boolean Just the boolean value if a SIN exists or not onChange function Only returns boolean if the SIN is entered properly or not onSinChange function onBlur function Source: inputs/SinEntry/SinEntry.js, line 22 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "},"TForm.html":{"id":"TForm.html","title":"Class: TForm","body":" Documentation Classes _defaultDatePickerLocalDateLocalMonthSelectMaskedInputMoneyInputMoneyInputMaskRadioGroupResponsiveMenuScriptelInputSinEntryTForm Global withScriptel Class: TForm TForm Extends Formik to provide Semantic UI error and warning messages and field errors. new TForm() Properties: Name Type Description render function Render prop just like Formik's with additional arguments passed numFields number The number of fields in the form. TForm can't automatically get this number. errors Used to pass in any GraphQL errors. onSubmit function Called when the form submits. getSubmitFn function Called when the TForm is mounted so you can get access to the submitForm function. Source: form/TForm/TForm.js, line 20 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-26T13:53:52-05:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
